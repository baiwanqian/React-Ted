<!DOCTYPE html>
<html>

<head>
  <title> REACT </title>

  <style>
    body {
      background-color: #94a2af;
      font-family: Verdana;

      display: flex;
      flex-direction: column;
    }

    #headCont {
      position: sticky;
      top: 0;

      padding: 15px;

      background-color: slategrey;
      color: #eaeaea;

      font-style: italic;
      font-size: 130%;
      z-index: 999;
    }

    #introCont {
      margin: 50px 25px 25px 25px;
      padding: 20px;

      background-color: #eaeaea;
      border-radius: 10px;

      width: 70%;
      font-size: 120%;

      margin-bottom: 2.5em;
    }

    #vdom {
      padding: 30px;

      background-color: #8d9aa6;
      color: #eaeaea;
      margin-bottom: 2.5em;
    }

    .heading {
      text-align: center;

      font-size: 170%;
    }

    .heading2 {
      text-align: center;

      font-size: 250%;
    }

    .headBtn {
      border-width: thin;
      border-style: solid;
      border-color: #eaeaea;
      border-radius: 5px;

      padding: 3px 6px 3px 6px;
      font-style: normal;
    }

    ul:not(.text-left) {
      font-size: 125%;
      width: 90%;
    }

    .arrow {
      font-size: 400%;
    }

    .demoWrap {
      margin: 25px auto;
      padding: 20px;
      background-color: #eaeaea;
      border-radius: 10px;
      font-size: 120%;
      margin-bottom: 2.5em;
      width: 100%;
      max-width: 800px;
    }

    #demoArea {
      position: relative;
      width: 100%;
      height: 55vh;
      margin: 0 auto;
      background: white;
      border-radius: 10px;
      overflow: hidden;
    }

    .popBtn {
      position: absolute;
      border: none;
      border-radius: 999px;
      padding: 10px 15px;
      cursor: pointer;
      background: slategrey;
      font-weight: 700;
      color: #eaeaea;
    }

    #openSound {
      position: sticky;
      bottom: 7px;
      left: 96vw;

      width: 20px;

      font-size: 200%;
    }

    #openSound:hover {
      color: #f3f3f3;
    }

    #soundboard {
      position: fixed;
      bottom: 13px;
      left: 68.5vw;

      width: 30vw;
      height: 48vh;
      background-color: white;

      border-style: solid;
      border-width: medium;
      border-color: darkgrey;
    }

    #close {
      margin-top: 10px;
      margin-left: 95%;
      font-size: 180%;

      color: darkgrey
    }

    #close:hover {
      color: black;
    }

    .aud:hover {
      filter: brightness(0.8);
    }

  </style>
</head>

<body>
  <audio id="clap" src="https://image2url.com/r2/default/audio/1770259312345-81dc89e1-7fd2-4a14-b534-38ca0836c05f.mp3"> </audio>
  <audio id="boing" src="https://image2url.com/r2/default/audio/1770259580622-ae8ee47c-a629-4909-bf3a-a581153676cb.mp3"> </audio>
  <audio id="laugh" src="https://image2url.com/r2/default/audio/1770259749676-0d5b4c35-5892-4cf9-b854-e27f2932c842.mp3"> </audio>
  <audio id="gameover" src="https://image2url.com/r2/default/audio/1770260064026-f3fb8833-072d-4bd1-948f-15c1ee5ac7f0.mp3"> </audio>
  <audio id="boo" src="https://image2url.com/r2/default/audio/1770260083654-c7674553-d136-4dd1-bda9-1471a6134678.mp3"> </audio>

  <div id="1"> </div>
  <div id="headCont" class=""> </div>
  <div id="introCont" class="self-center"> </div>
  <div id="vdom"> </div>
  <div id = "structure" class = "demoWrap"> </div>
  <div id = "btnDemo" class = "demoWrap"> </div>
  <div id = "todoDemo" class = "demoWrap"> </div>

  <button id="openSound" onClick="reveal()"> ^ </button>
  <div id="soundboard" class="rounded-2xl hidden px-5">
    <button id="close" onClick="hide()"> X </button>
    <div class="bg-[gainsboro] grid grid-cols-3 p-5 mt-3 rounded-2xl text-3xl" style="gap: 40px">
      <div class="aud bg-white rounded-xl border-solid border-7 border-[#a3a3a3]">
        <button onClick="play('clap')" class="w-full h-full" style="aspect-ratio:1/1"> &#x1F44F; </button>
      </div>
      <div class="aud bg-white rounded-xl border-solid border-7 border-[#a3a3a3]">
        <button onClick="play('boing')" class="w-full h-full" style="aspect-ratio:1/1"> &#x1F388; </button>
      </div>
      <div class="aud bg-white rounded-xl border-solid border-7 border-[#a3a3a3]">
        <button onClick="play('laugh')" class="w-full h-full" style="aspect-ratio:1/1"> &#x1F604; </button>
      </div>
      <div class="aud bg-white rounded-xl border-solid border-7 border-[#a3a3a3]">
        <button onClick="play('gameover')" class="w-full h-full" style="aspect-ratio:1/1"> &#x1F47E; </button>
      </div>
      <div class="aud bg-white rounded-xl border-solid border-7 border-[#a3a3a3]">
        <button onClick="play('boo')" class="w-full h-full" style="aspect-ratio:1/1"> &#x1F44E; </button>
      </div>
    </div>
  </div>

  <!-- TAILWIND -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

  <!-- IMPORTING REACT AND REACTDOM -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>

  <!-- GETTING BABEL SO COMPUTER CAN READ THE JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- INLINE REACT CODE (would be in another file but this way it can run in browser) -->
  <script type="text/babel">

    function Head() {
      return(
        <div id="head" className="flex items-center justify-between">
          <p> a guide on reacting </p>

          <div className="flex gap-3">
            <a className="headBtn" href="#content2"> content2 </a>
            <a className="headBtn" href="#1"> UP </a>
          </div>
        </div>
      )
    }

    function Intro() {
      return(
        <div className="flex flex-col justify-center self-center">
          <h3 className="heading"> &#x2728; What is React?	&#x2728; <br /> </h3>
          <hr />
          <p className="text-[#eaeaea]"> \ </p>

          <ul className="list-disc pl-6 list-inside self-center">
            <li className="pb-2"> A JS library for building user interfaces/interactive webpages created by Jordan Walke </li>
            <li className="pb-2"> More efficiently updates the browser DOM in response to user interactions by changing only what <em>needs</em> to be changed </li>
            <li className="pb-2"> Utilizes a <u>Virtual DOM</u>, a more lightweight copy of the browser DOM that lives within the memory </li>
          </ul>
        </div>
      )
    }

    function VDom() {
      return(
        <div className="flex flex-col justify-center">
          <h3 className="heading2"> <em>The Virtual DOM</em> </h3>
          <p className="text-[#8d9aa6]"> / </p> <p className="text-[#8d9aa6]"> / </p>
          <div className="flex flex-col gap-5 justify-center items-center self-center w-3/5">
            <div className="flex flex-row gap-5 justify-center items-center w-full">
              <div className="flex flex-col w-3/7">
                <div className="flex flex-col justify-center w-full rounded-xl overflow-hidden bg-[#eaeaea] h-[380px]">
                  <div className="px-6 py-4">
                    <div className="text-gray-700 font-bold text-xl mb-2 text-center"> Initial Render </div>
                    <p className="text-gray-700 text-base text-center">
                      A Virtual DOM tree reflective of the Browser DOM is constructed
                    </p>
                  </div>
                </div>
                <div>
                  <p className="arrow text-[#8d9aa6]"> &#x2193; </p>
                </div>
              </div>
              <div className="flex flex-col w-1/7">
                <p className="arrow text-center"> &#x2192; </p>
                <p className="arrow text-center text-[#8d9aa6]"> &#x2192; </p>
              </div>
              <div className="flex flex-col w-3/7">
                <div className="flex flex-col justify-center w-full rounded-xl overflow-hidden bg-[#eaeaea] h-[380px]">
                  <div className="px-6 py-4">
                    <div className="text-gray-700 font-bold text-xl mb-2 text-center"> Interaction </div>
                    <p className="text-gray-700 text-base text-center">
                      User interactions are handled through the usage of React&apos;s event handlers such as OnClick and OnSubmit
                      <div className="text-[#eaeaea] text-xs"> &nbsp </div>
                      <div className="rounded-xl p-1 bg-[#d3d3d3]">
                        &lt;element onEvent=&#123;handlerFunction&#125; /&gt;
                      </div>
                    </p>
                  </div>
                </div>
                <div>
                  <p className="arrow text-center"> &#x2193; </p>
                </div>
              </div>
            </div>
            <div className="flex flex-row gap-5 justify-center items-center w-full ">
              <div className="flex flex-col w-3/7 ">
                <div className="flex flex-col justify-center w-full rounded-xl overflow-hidden bg-[#eaeaea] h-[380px]">
                  <div className="px-6 py-4">
                    <div className="text-gray-700 font-bold text-xl mb-2 text-center"> Rerender </div>
                    <p className="text-gray-700 text-base text-center">
                      A new Virtual DOM tree is constructed to reflect set changes caused by user interaction
                    </p>
                  </div>
                </div>
                <div>
                  <p className="arrow text-center"> &#x2193; </p>
                </div>
              </div>
              <div className="flex flex-col w-1/7">
                <p className="arrow text-center"> &#x2190; </p>
                <p className="arrow text-center text-[#8d9aa6]"> &#x2192; </p>
              </div>
              <div className="flex flex-col w-3/7">
                <div className="flex flex-col justify-center w-full rounded-xl overflow-hidden bg-[#eaeaea] h-[380px]">
                  <div className="px-6 py-4">
                    <div className="text-gray-700 font-bold text-xl mb-2 text-center"> Diffing </div>
                    <p className="text-gray-700 text-base text-center">
                      Diffing is a process of linear time (O(n)) in which the newly created Virtual DOM is compared to its predecessor align
                      (comparing on a node basis).
                      <ul className="list-disc pl-6 list-inside text-left">
                        <li className="pb-2">
                        When a DOM element of <b>different types</b> are detected during this process, the old subtree is
                        removed and completely rebuilt to reflect this change
                        </li>
                        <li>
                          When a DOM element of the <b>same type</b> is detected, only the modified properties will be
                          altered (unaltered properties maintain its current state)
                        </li>
                      </ul>
                    </p>
                  </div>
                </div>
                <div>
                  <p className="arrow text-[#8d9aa6]"> &#x2193; </p>
                </div>
              </div>
            </div>
            <div className="flex flex-row gap-5 w-full">
              <div className="flex flex-col justify-center w-3/7 rounded-xl overflow-hidden bg-[#eaeaea] h-[380px]">
                <div className="px-6 py-4">
                  <div className="text-gray-700 font-bold text-xl mb-2 text-center"> DOM Update </div>
                  <p className="text-gray-700 text-base text-center">
                    After the differences are identified and a set of changes are identified (otherwise known as a patch),
                    these changes are applied to the browser DOM. Multiple updates are executed in a single DOM update, further reducing
                    the number of actual DOM manipulations
                  </p>
                </div>
              </div>
              <p className="arrow text-center text-[#8d9aa6] w-1/7"> &#x2192; </p>
              <div className="w-3/7 flex justify-center items-center">
                <img src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExNWw3aDlrYTI3ZTcxbG9xY3l5emF1Z3NlN2JxMGpvZXdwd2ZyeTB2eSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/QlQdLBS70XJcZY1fLF/giphy.gif" />
              </div>
            </div>
          </div>
        </div>
      )
    }

    function Structure() {
      const [topic, setTopic] = React.useState(null);

      const TOPICS = {
        imports: {
          title: "Imports",
          text:
            "These scripts load React (components/hooks) and ReactDOM (renders React into the real browser DOM).",
          code:
            `import React from "react";
             import ReactDOM from "react-dom/client";`,
          extra:
          `<!-- Demo style (CDN) -->
          <script src="https://unpkg.com/react@18/umd/react.development.js"><\/script>
          <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"><\/script>`,
        },

        babel: {
          title: "Babel (for demos)",
          text:
            "Browsers do NOT understand JSX. Babel translates JSX into plain JS. " +
            "This is used solely for demo purposes.",
          code:
            `<script src="https://unpkg.com/@babel/standalone/babel.min.js"><\/script>

            <script type="text/babel">
              // JSX works in here because Babel compiles it
            <\/script>`,
          extra:
            `In official projects, JSX is compiled during a build step (not in the browser).
            Build tools like Vite or Webpack run Babel ahead of time and output plain JavaScript.`
        },

        mount: {
          title: "Mount Point",
          text:
            "React needs a real DOM element to mount to. " +
            "The mount point is chosen through using document.getElementById(...).",
          code:
            `<div id="mountPoint"></div>`,
          extra:
            `// You can mount multiple React roots:
            ReactDOM.createRoot(document.getElementById("headCont")).render(<Head />);
            ReactDOM.createRoot(document.getElementById("introCont")).render(<Intro />);
            // Or mount once (more commonly used):
            ReactDOM.createRoot(document.getElementById("root")).render(<App />);`
        },

        components: {
          title: "Components",
          text:
            "A component is a function that returns JSX.",
          code:
            `function Head() {
              return <div>Hello!</div>;
            }

            function App() {
              return (
                <div>
                  <Head />
                  <p>More UI…</p>
                </div>
              );
            }`,
          extra:
            `// You can pass props into components:
            function Hello({ name }) {
              return <p>Hello {name}</p>;
            }
            // <Hello name="Helloer" />

            - Component names must start with a capital letter
            - A component returns one parent element (wrapped with \`<div>\` or \`<>\`).
            - Use \`className\`, not \`class\`.
            - JS goes in \`{ }\` inside JSX:
            - Event handlers use camelCase: onClick={handleClick} (not "onclick")`
        },

        render: {
          title: "Render",
          text:
            "This line mounts your component into the mount point. After that, React re-renders when state/props change.",
          code:
            `const root = ReactDOM.createRoot(document.getElementById("mountPoint"));
            root.render(<MyComponent />);`,
          extra:
            `// Convention:
            const root = ReactDOM.createRoot(document.getElementById("root"));
            root.render(<App />);`
        }
      };

      function Click({id, children}) {
        return (
          <span
            onClick={() => setTopic(id)}
            className="cursor-pointer text-slate-900 rounded px-1 py-0.5 bg-slate-200 hover:bg-slate-300 transition font-semibold"
            title="Click for explanation"
          >
            {children}
          </span>
        );
      }

      const t = topic ? TOPICS[topic] : null;

      return (
        <div>
          <h3 className="heading2"> React Page Structure </h3>
          <p className="text-slate-700 text-center">
            Click the
            <span className="bg-slate-200 px-1 rounded font-semibold"> highlighted </span>
            code.
          </p>

          <div className="mt-4 bg-slate-900 text-slate-100 rounded-2xl p-4 text-sm">
            <div className="text-slate-400">// index.html (Demo Style)</div>

            <div>&lt;!DOCTYPE html&gt;</div>
            <div>&lt;html&gt;</div>
            <div className="pl-4">&lt;head&gt;</div>

            <div className="pl-8 text-slate-300"> {`<!-- styles, meta, etc -->`} </div>
            <div className="pl-8">
              <Click id="imports">{`<script src="react"><\/script> <script src="react-dom"><\/script>`}</Click>
            </div>

            <div className="pl-8">
              <Click id="babel">{`<script src="babel"><\/script>`}</Click>
            </div>

            <div className="pl-4">&lt;/head&gt;</div>
            <div className="pl-4">&lt;body&gt;</div>

            <div className="pl-8">
              <Click id="mount">{`<div id="structure"></div>`}</Click>
              <span className="text-slate-400">{"  // mount point"}</span>
            </div>

            <div className="pl-8 text-slate-300">{`<!-- other HTML stuff here -->`}</div>

            <div className="pl-8">
              <Click id="babel">{`<script type="text/babel">`}</Click>
            </div>

            <div className="pl-12 text-slate-200">
              <Click id="components">{`// Components go here (functions that return JSX)`}</Click>
            </div>

            <div className="pl-12 text-slate-200">
              <Click id="render">{`// Render into a mount point`}</Click>
            </div>

            <div className="pl-12">
              <Click id="render">{`ReactDOM.createRoot(...).render(<App />);`}</Click>
            </div>

            <div className="pl-8">
              <Click id="babel">{`<\/script>`}</Click>
            </div>

            <div className="pl-4">&lt;/body&gt;</div>
            <div>&lt;/html&gt;</div>
          </div>

          {t && (
            <div className="fixed inset-0 z-[9999]">
              <div className="absolute inset-0 bg-black/60" onClick={() => setTopic(null)}></div>

              <div className="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-2xl p-6 shadow-xl">
                <div className="flex justify-between items-start gap-4">
                  <div>
                    <div className="text-2xl font-bold">{t.title}</div>
                    <p className="text-slate-700 mt-2">{t.text}</p>
                  </div>
                  <button className="text-xl text-slate-500 hover:text-black" onClick={() => setTopic(null)}>
                    ✕
                  </button>
                </div>

                <div className="mt-4">
                  <div className="font-semibold text-slate-700">Code</div>
                  <pre className="mt-2 bg-slate-900 text-slate-100 rounded-xl p-4 overflow-auto text-sm">
                    <code>{t.code}</code>
                  </pre>
                </div>

                <div className="mt-4">
                  <div className="font-semibold text-slate-700">Extra / Real-world note</div>
                  <pre className="mt-2 bg-slate-100 text-slate-900 rounded-xl p-4 overflow-auto text-sm">
                    <code>{t.extra}</code>
                  </pre>
                </div>

                <div className="flex justify-end mt-5">
                  <button
                    className="px-4 py-2 rounded-lg bg-slate-700 text-white hover:bg-slate-900 transition"
                    onClick={() => setTopic(null)}
                  > Done </button>
                </div>
              </div>
            </div>
          )}
          <div className="mt-6 bg-slate-900 text-slate-100 rounded-2xl p-4 text-sm">
            <div className="text-slate-400">// Real React Project (Vite / CRA)</div>

            <div>src/</div>
            <div className="pl-4">main.jsx</div>
            <div className="pl-8 text-slate-400">// entry point</div>

            <div className="pl-4">App.jsx</div>
            <div className="pl-8 text-slate-400">// root component</div>

            <div className="pl-4">components/</div>
            <div className="pl-8">Component1.jsx</div>
            <div className="pl-8">Component2.jsx</div>

            <div className="mt-2">public/</div>
            <div className="pl-4">index.html</div>
          </div>
        </div>
      );
    }

    function ExpandCode({ title, code }) {
      const [open, setOpen] = React.useState(false);

      return (
        <div className="w-full mt-3">
          <button
            className="w-full text-left px-3 py-2 rounded-lg bg-slate-200 hover:bg-slate-300 transition font-semibold"
            onClick={() => setOpen(o => !o)}
          > {title} </button>

          {open && (
            <pre className="mt-2 bg-slate-900 text-slate-100 rounded-xl p-4 overflow-auto text-sm">
              <code>{code}</code>
            </pre>
          )}
        </div>
      );
    }

    function BtnDemo() {
      const [playing, setPlaying] = React.useState(false);
      const [score, setScore] = React.useState(0);
      const [misses, setMisses] = React.useState(0);
      const [btns, setBtns] = React.useState([]);

      const nextBtn = React.useRef(1);
      const spawnT = React.useRef(null);
      const rmvT = React.useRef(null);

      const [tour, setTour] = React.useState(false);
      const TOUR = [
        {
          targetId: "btnDemoRoot",
          title: "This whole demo is a React component",
          body:
            "BtnDemo() is a function component. React calls it to produce UI. " +
            "Whenever state changes (score/misses/btns/playing), React reruns BtnDemo and updates the page."
        },
        {
          targetId: "btnDemoScore",
          title: "Score and misses come from useState",
          body:
            "score and misses are stored in React state. When you call setScore/setMisses, React schedules a rerender. " +
            "That rerender updates the text without you manually touching the DOM."
        },
        {
          targetId: "btnDemoControls",
          title: "Buttons change state, not the DOM directly",
          body:
            "Start/Reset call setPlaying, setScore, setMisses, setBtns. " +
            "Instead of doing document.getElementById(...), you update data, and React updates the UI for you."
        },
        {
          targetId: "demoArea",
          title: "Buttons appear because btns array changes",
          body:
            "btns is an array in state. When you add objects to it, the map() creates more <button> elements. " +
            "When you remove one, React removes just that button from the DOM."
        }
      ];

      const lvl = Math.min(20, Math.floor(score / 2));
      const spawn = Math.max(900 - lvl * 45, 250);
      const rmv = Math.max(1400 - lvl * 70, 450);

      function startGame() {
        setPlaying(true);
        setScore(0);
        setMisses(0);
        setBtns([]);
        nextBtn.current = 1;
      }

      function resetGame() {
        setPlaying(false);
        setScore(0);
        setMisses(0);
        setBtns([]);
        clearInterval(spawnT.current);
        clearInterval(rmvT.current);
      }

      React.useEffect(() => {
        if (!playing) return;
        clearInterval(spawnT.current);

        spawnT.current = setInterval(() => {
          setBtns(prev => [...prev,
            {
              id: nextBtn.current++,
              initial: Date.now(),
              length: rmv
            }
          ]);
        }, spawn);

        return() => clearInterval(spawnT.current);
      }, [playing, spawn, rmv]);

      React.useEffect(() => {
        if (!playing) return;
        clearInterval(rmvT.current);

        rmvT.current = setInterval(() => {

          setBtns(prev => {
            let expired = 0;
            const rem = [];
            for (const b of prev) {
              if (Date.now() - b.initial > b.length) {
                expired++;
              } else {
                rem.push(b);
              }
            }
            if (expired > 0) setMisses(m => m + expired);
            return rem;
          });

        }, 60);

        return () => clearInterval(rmvT.current);
      }, [playing]);

      React.useEffect(() => {
        if (misses >= 3) {
          setPlaying(false);
          clearInterval(spawnT.current);
          clearInterval(rmvT.current);
        }
      }, [misses]);

      return (
        <div className="flex flex-col items-center text-center">

          <div className="w-full flex justify-between items-center mb-2">
            <h3 className= "heading2 m-0"> Button Game Demo </h3>
          </div>

          <p className = "mb-2">
            <b>Score:</b> {score} &nbsp; | &nbsp; <b>Misses:</b> {Math.min(misses, 3)}/3
          </p>

          <div className = "flex gap-3 mb-3">
            {!playing && misses < 3 && (
              <button className = "px-4 py-2 rounded-lg bg-slate-500 text-white font-semibold
                hover:bg-slate-700 active:scale-95 transition" onClick = {startGame}> Start </button>
            )}
            <button className = "px-4 py-2 rounded-lg bg-slate-500 text-white font-semibold
              hover:bg-slate-700 active:scale-95 transition" onClick = {resetGame}> Reset </button>
          </div>

          <div id= "demoArea">
            {btns.map(b => (
              <button key = {b.id} className= "popBtn"
                onClick = {() => {
                  if (!playing) return;
                  setBtns(prev => prev.filter(x => x.id !== b.id));
                  setScore(s => s + 1);
                }}
                style = {{ left: (b.id * 37) % 400, top: (b.id * 61) % 250 }}
              > CLICK </button>
            ))}
          </div>

          {!playing && misses >= 3 && <p className = "mt-3 font-bold"> GAME OVER </p>}

          <ExpandCode
          title="Expand"
          code={
`// STATE
const [playing, setPlaying] = React.useState(false);
const [score, setScore] = React.useState(0);
const [misses, setMisses] = React.useState(0);
const [btns, setBtns] = React.useState([]);

// EFFECT (runs when dependencies change)
React.useEffect(() => {
  if (!playing) return;
  const timer = setInterval(() => {
    setBtns(prev => [...prev, { id: Date.now() }]);
  }, 500);
  return () => clearInterval(timer);
}, [playing]);`}
          />

        </div>
      );

    }

    function TodoDemo() {
      const [items, setItems] = React.useState([]);
      const [text, setText] = React.useState("");
      const nextId = React.useRef(1);
      const [editID, setEdit] = React.useState(null);

      function add() {
        const t = text.trim();
        if (!t) return;
        setItems(prev => [...prev,
          { id: nextId.current++,
            label: t
          }
        ]);
        setText("");
      }

      function rmv(id) {
        setItems(prev => prev.filter(x => x.id != id));
        if (editID == id) setEdit(null);
      }

      function move(id, dir) {
        setItems(prev => {
          const i = prev.findIndex(x => x.id == id);
          const j = i + dir;
          if (i < 0 || j < 0 || j >= prev.length) return prev;
          const copy = [...prev];
          const tmp = copy[i];
          copy[i] = copy[j];
          copy[j] = tmp;
          return copy;
        });
      }

      function edit(id, newLabel) {
        setItems(prev => {
          const i = prev.findIndex(x => x.id == id);
          if (i < 0) return prev;
          const copy = [...prev];
          const tmp = copy[i];
          copy[i] = { ...tmp, label: newLabel };
          return copy;
        });
      }

      return (
        <div className = "flex flex-col items-center text-center gap-3">
          <h3 className = "heading2"> To-Do List Demo </h3>

          <div className = "flex gap-2 w-full">
            <input
              className = "flex-1 px-3 py-2 rounded-lg border border-slate-300"
              value = {text}
              onChange = {e => setText(e.target.value)}
              placeholder = "Add a task…"
              onKeyDown = {e => {
                if (e.key === "Enter") add();
              }}
            />

            <button className="px-4 py-2 rounded-lg bg-slate-500 text-white font-semibold hover:bg-slate-700 active:scale-95 transition"
              onClick={add}> Add </button>
            <button className="px-4 py-2 rounded-lg bg-red-600 text-white font-semibold hover:bg-red-700 active:scale-95 transition"
              onClick={() => setItems([])}> Clear </button>
          </div>

          <ul className = "flex flex-col gap-2 w-full">
            {items.length == 0 && (
              <li className = "text-slate-600 italic"> No tasks yet.</li>
            )}

            {items.map((it, i) => (
              <li key={it.id} className="flex items-center justify-between bg-white rounded-lg px-3 py-2">
                <div className="flex items-center gap-2 flex-1">
                  <b className="text-slate-500">{i + 1}.</b>
                  <input className="flex-1 px-2 py-1 rounded border border-slate-200"
                         value = {it.label}
                         onChange={(e) => edit(it.id, e.target.value)}
                  />
                </div>

                <div className="flex gap-2">
                  <button
                    className="px-2 py-1 rounded bg-slate-200 hover:bg-slate-300 transition"
                    onClick={() => move(it.id, -1)} title="Move up"
                  > ↑ </button>
                  <button
                    className="px-2 py-1 rounded bg-slate-200 hover:bg-slate-300 transition"
                    onClick={() => move(it.id, +1)} title="Move down"
                  > ↓	</button>
                  <button
                    className="px-2 py-1 rounded bg-red-500 text-white hover:bg-red-600 transition"
                    onClick={() => rmv(it.id)} title="Delete"
                  > ✕ </button>
                </div>
              </li>
            ))}
          </ul>

        </div>
      );
    }

    const headCont = ReactDOM.createRoot(document.getElementById('headCont'));
    headCont.render(<Head />);

    const introCont = ReactDOM.createRoot(document.getElementById('introCont'));
    introCont.render(<Intro />);

    const vdom = ReactDOM.createRoot(document.getElementById('vdom'));
    vdom.render(<VDom />);

    ReactDOM.createRoot(document.getElementById("structure")).render(<Structure />);

    const btnDemo = ReactDOM.createRoot(document.getElementById('btnDemo'));
    btnDemo.render(<BtnDemo />);

    const todoDemo = ReactDOM.createRoot(document.getElementById('todoDemo'));
    todoDemo.render(<TodoDemo />);

    // NORMAL JS STUFF
    function reveal() {
      document.getElementById('openSound').classList.add('hidden');
      document.getElementById('soundboard').classList.remove('hidden');
    }

    function hide() {
      document.getElementById('soundboard').classList.add('hidden');
      document.getElementById('openSound').classList.remove('hidden');
    }

    function play(sound) {
      document.querySelectorAll('audio').forEach(aud => {
        if (aud.currentTime > 0) {
          aud.pause();
          aud.currentTime = 0;
        }
      });
      document.getElementById(sound).play();
    }

  </script>
</body>

</html>
